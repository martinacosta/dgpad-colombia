<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>KaTeX Test</title>
    <script src="katex.min.js" type="text/javascript"></script>
    <link href="katex.min.css" rel="stylesheet" type="text/css">
    <style type="text/css">
    #input {
        margin: 0px;
        font-size: 100%;
        width: 100%;
        box-sizing: border-box;
    }
    
    #math,
    input {
        display: block;
    }
    </style>
    <script>
    var renderTeX = function(ctxt, _st, _fontsize, _x, _y) {
        try {
            var box = katex.canvasBox(_st, ctxt, {
                fontSize: _fontsize * 1.21
            });
            box.renderAt(_x, _y);
            // return whole width of rendered expression :
            return (box.width+box.depth);
        } catch (e) {
            ctxt.clearRect(0, 0, math.width, math.height);
            if (e.__proto__ == katex.ParseError.prototype) {
                console.error(e);
            } else {
                throw e;
            }
            return 0;
        }
    }
    </script>
</head>

<body>
    <!-- <input type="text" value="(\left( x \right) \left( x^2 \right) \left( \frac{a}{b} \right) \left( \frac{a^2}{b} \right) \left( \dfrac{a}{b} \right) \left( \dfrac{a^2}{b} \right)" id="input" /> -->
    <canvas width="800" height="400" id="math"></canvas>
    <!-- <input id="permalink" type="button" value="permalink"> -->
    <script>
    renderTeX(document.getElementById("math").getContext("2d"),"\\frac{2}{5}",50,0,60);
    // katex.renderToCanvas("\\frac{4}{a}",document.getElementById("math").getContext("2d"),10,60,{
    //             fontSize: 40 * 1.21
    //         })
    </script>
    <!-- <script src="canvas.js" type="text/javascript"></script> -->
</body>

</html>
